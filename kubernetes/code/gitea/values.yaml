image:
    tag: 1.24.3-rootless
ingress:
    enabled: true
    hosts:
        - host: git.vhaudiquet.fr
          paths:
            - path: /
              pathType: Prefix
# Disable HA, we are on a 1-node cluster
redis-cluster:
    enabled: false
redis:
    enabled: true
postgresql:
    enabled: true
    global:
        postgresql:
            auth:
                postgressPassword: ENC[AES256_GCM,data:pZimrt6zsryCaA==,iv:1yORkEOhZEzLlntyNWcYs+Xlkziufi0bbzjtNHxpiiA=,tag:kAN9b5mNnzHAO7z+Ia6YBg==,type:str]
                password: ENC[AES256_GCM,data:VaWerRaVwFKOGQ==,iv:cmHn1nXnuTRPN61CrPKy499Msuwercv67qO7VtA6IHk=,tag:YTc45zjLWL7l3VdWMiHpCw==,type:str]
                database: gitea
                username: ENC[AES256_GCM,data:+t1HECI=,iv:c+0X+p+L6gO7unM5PIB71SoHKsx/orOniNF51FbLV1c=,tag:iW4gBXJkBZsN+1Hj2QaywQ==,type:str]
    volumePermissions:
        enabled: true
postgresql-ha:
    enabled: false
persistence:
    enabled: true
    subPath: data
extraVolumes:
    - name: git
      nfs:
        server: truenas.local
        path: /mnt/main_storage/git
extraContainerVolumeMounts:
    - name: git
      mountPath: /git
clusterDomain: kube-talos.local
actions:
    enabled: true
    provisioning:
        enabled: true
gitea:
    oauth:
        - name: Authentik
          provider: openidConnect
          key: ENC[AES256_GCM,data:cygjtEQ8adyXlRWMYxUBQN9ToT/YqxOrFQT0RETG8cBo9g0UIcBW6Q==,iv:H839noKfyqBXk2nmRvXOO/eMkJs67BlnWPO5FKv0kvo=,tag:UPLsAh0ZY50VKLQ2/U0Ehg==,type:str]
          secret: ENC[AES256_GCM,data:LCQRb26kuLbXy+lYQqd4Je4CpLZMazvqZlRbulyWq5agy5U7Ru+AP/R2ufoJqhdYW2aFD1qRIDscs0smizKvglBFz50b5tNjGJqvaI613dkKKCwkUwF2R3/19eZ7Aeq62EkF9K6DqZldZwUV2dG99qxRz8MuTWz3b9vLu8KAWcw=,iv:DeooFW72zxgbMp1fPgftoofVmXJLdq9uBiwL5oHL/PQ=,tag:f/gPEri2lMCqZ5ZVIEZuuQ==,type:str]
          autoDiscoverUrl: https://authentik.vhaudiquet.fr/application/o/gitea/.well-known/openid-configuration
    config:
        APP_NAME: Gitea
        server:
            ROOT_URL: https://git.vhaudiquet.fr
        lfs:
            STORAGE_TYPE: local
            PATH: /git/lfs
        repository:
            ROOT: /git/repo
        database:
            DB_TYPE: postgres
        service:
            ALLOW_ONLY_EXTERNAL_REGISTRATION: true
        actions:
            ENABLED: true
        oauth2_client:
            ENABLE_AUTO_REGISTRATION: true
            ACCOUNT_LINKING: login
        openid:
            ENABLE_OPENID_SIGNIN: false
            ENABLE_OPENID_SIGNUP: false
        indexer:
            ISSUE_INDEXER_TYPE: bleve
            REPO_INDEXER_ENABLED: true
sops:
    lastmodified: "2025-08-01T13:22:45Z"
    mac: ENC[AES256_GCM,data:dpmR2aAgVdctrhScwujaxEEwfaFhT+KsxvbkWn4B5lhNfNpbzRPTShnNNcc9VPoIVhUcGnwVULEYQ7ya+FwU2ZbSHgBm5Vz1fkmG3TRcVYEilPeTUX3sSmfkfwu2AibcEIk3l8WVGvodqVdHa6hWwSPDNXHucS2nNv1HrCQIiMI=,iv:TThCtgdI28qW3eTYUe98AGQIwahseDWKYkX1N5FJpsU=,tag:XZDsbynZkBlWf/R0j/82eQ==,type:str]
    pgp:
        - created_at: "2025-08-01T13:22:45Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA7uy4qQr71wiARAAtIF2z0qWcOon7YmNZloyEtiX+ut2Hk132yCJqMhhgFlN
            76sL/QocT2u7dTd82HtOzPYdzFHkLWgD0t7jA3L4zIv6eI+6hXGb5xN9e5TElwEq
            C70AWFQXzZxZiPrXlk8y3fybKhsvSma8rEf/1aSzpF2vxNAGpO8qQNbJ0YWbxBFV
            Fri07JyXvZ3N5Yd1saLUjtZaMzxRrvhqToGaFHQxyFGhJZ8LAU1nsPAs7VNqs8zW
            JDdpRIXWMTGnobRX+VQiURU4Nvi+ZJAUbqnQcrabtPDq2FHvPpQgoCzYMPNgR8ps
            RWMjabg22I6m8iCVSKRIUwqKowTIoLajcdQYMeYHMmFXDookQN6FPct4bC/pnIm8
            FYtL1SaVGF7STbpYD6XEcYzl0SALiRAyAG20kTLeY2Pn92AJoThJIpqkLoaiol7A
            HLXC3mXY8/G4G2IKxkiA0NEiNzM5jJ5L7Bqh3thUnrZ+M9R+v1Vgm1Z2u7V/f2Lk
            jY9wqN4N6A3Qb+1+HSkdI7pN5Di9Y359TrIgs64a1Sj64EeZzgQvPbRYR9kC0LHf
            /8526lRij98h0RXoPOaPc+A0qexRO27jzkxSo1qj350NaqwzPhERcXBqamIE2Idp
            2azw6gxb7eUfOq1ANEYr8QOr+RsAut0DHyLpzo1vUaHCxUli6ci+E+9hPTRaM/nS
            XgEFM7qqz722A4Q2DWeCLJeIA4qhdTzQdsO4vM6qGySoYmbOJ7Ju9iBXcY50INnj
            sfZWucHwlG2DmWd3UlGMlmyhyVRnnv5RepdXYQWKHFCKKqu+/zgttpedEEd3gWw=
            =ZMXq
            -----END PGP MESSAGE-----
          fp: DC6910268E657FF70BA7EC289974494E76938DDC
    encrypted_regex: ^(password|value|ssh-key|api-key|user|username|privateKey|clientSecret|clientId|apiKey|extraArgs.*|.*Secret.*|extraEnvVars|.*SECRET.*|.*secret.*|key|.*Password|.*\.ya?ml)$
    version: 3.10.2
