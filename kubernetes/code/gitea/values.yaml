image:
    tag: 1.24.3-rootless
ingress:
    enabled: true
    hosts:
        - host: git.vhaudiquet.fr
          paths:
            - path: /
              pathType: Prefix
# Disable HA, we are on a 1-node cluster
redis-cluster:
    enabled: false
redis:
    enabled: true
postgresql:
    enabled: true
    global:
        postgresql:
            auth:
                postgressPassword: ENC[AES256_GCM,data:7ZQF8bccWr5vwA==,iv:7ZCh16JUfV/FFsEEqpyS2Ln6eTp0z97THH/uC4RO1cE=,tag:XiDVIjlJsRC3y9ppek4d2w==,type:str]
                password: ENC[AES256_GCM,data:5qUXBzKsbBjW5Q==,iv:SexmhojRPn593HTX7LQPVKZJnGJiTPr50P/a70a2BjU=,tag:eLzHsAtvnhCjq08Yftyo+A==,type:str]
                database: gitea
                username: ENC[AES256_GCM,data:kcnTi4A=,iv:ePDe+pS0GGd9Ci7XtSL/XlTfcW2FVsIiq5ueYCD+DfU=,tag:dbE/bsR79Q2zXKJN4T4W/w==,type:str]
    volumePermissions:
        enabled: true
postgresql-ha:
    enabled: false
persistence:
    enabled: true
    subPath: data
extraVolumes:
    - name: git
      nfs:
        server: truenas.local
        path: /mnt/main_storage/git
extraContainerVolumeMounts:
    - name: git
      mountPath: /git
clusterDomain: kube-talos.local
gitea:
    oauth:
        - name: Authentik
          provider: openidConnect
          key: ENC[AES256_GCM,data:FdAql7g94lfJnD5mmBkklaIX7OxhGU8yFdpbiXpRJkx94epgnwYVIg==,iv:1I6+0CEra5QiMEBDj7AjaoK2F+kczt6gcVRDt3Nnlqk=,tag:dQdBeOMJ6wvWVFrhmw6GoQ==,type:str]
          secret: ENC[AES256_GCM,data:XqaAHvUADFbxecAsTiYWw3LiL31Rvu+jxKJflz0xjA4q3h6FKMVFPeBbQhkgQXS72TNhs9ruJieLYIZKywHZDHXk0wwFUtPNojBr1lFXAh5SgWDM1Y67I8lzSHmbl8zeTaglIgQPfa0sZUvFladgxt9OnKVCClyiBRCwg7mnOBk=,iv:d8mRAsviJpO48Ynh4fYJT/kQsClNEFVnPuqfrnijXqw=,tag:Z53ad28MqBTs8D70NcqKOg==,type:str]
          autoDiscoverUrl: https://authentik.vhaudiquet.fr/application/o/gitea/.well-known/openid-configuration
    config:
        APP_NAME: Gitea
        server:
            ROOT_URL: https://git.vhaudiquet.fr
        lfs:
            STORAGE_TYPE: local
            PATH: /git/lfs
        repository:
            ROOT: /git/repo
        database:
            DB_TYPE: postgres
        service:
            ALLOW_ONLY_EXTERNAL_REGISTRATION: true
        actions:
            ENABLED: true
        oauth2_client:
            ENABLE_AUTO_REGISTRATION: true
            ACCOUNT_LINKING: login
        openid:
            ENABLE_OPENID_SIGNIN: false
            ENABLE_OPENID_SIGNUP: false
        indexer:
            ISSUE_INDEXER_TYPE: bleve
            REPO_INDEXER_ENABLED: true
sops:
    lastmodified: "2025-08-01T13:27:30Z"
    mac: ENC[AES256_GCM,data:kXQHVkfraDPOdda4wMxrLfHknix7CwmjxEFCLbcLxeb+6mIiuFUfLLlpufatmCrmT0TyOPBaDkAQUpSq2H46ii6NyYTaEq+6StI/trQpr88W9N51E/8AlenNLA88vtF/2/9nxE9fYT3Aw7JOVMhvQLI9FeB38RKG8xC1BtcbvX0=,iv:VYun1Ub0DdST1fPlxXUfakq2Te88BSX1vi+XylvytjQ=,tag:5LhfTJhiHZ12B0rLneoXlA==,type:str]
    pgp:
        - created_at: "2025-08-01T13:27:30Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA7uy4qQr71wiAQ//f827uEdX1vKsEtfszO2giwtMwrgRI3UGw5lJYWZ/gh9j
            CnXybBstvuO/KVrE7gvgpRt33jhGHSy4D0O2t3RZVLgWSvsdcdS5RZR1eexTgqJ5
            cfr8kolHBLXUL5MJYDy3DoA9DR6vAoPT26cgB0WZcEzE0UAz//5kUT0AgGXSvmXU
            BqVFDRCPsKFXmpb8LhZsiQOOjIsaEW+liobO9WCU3jGc9qubmJxoI7K9V0dBf8yA
            R5pUgQFyLsv1dCj84NsF+7BxPTb4fwxNrlsEmFw8TSwxtb2CUFBwUQ+HfWEtWUTF
            r7mOY3THVKyfqUskQnrlCSQBUjOW5ZXIq8nHUjpEL0T7NSH+iwncJzeBn38JDVXS
            HLf1QqG1mN90ntKfxd9Udph0i6n8zPOX/T01d5PCm7R4myNdqCeUA4gwzbaBSV/f
            knZSpNd1PsMXtQvGU3z62UfH+XH+LgG0EQ7goIEVoPt4DYS9AFjaFf/1LpTsdITU
            UFB6UHi7r0d2WSbZy7STgSdvyT/nE5Lmbrmq+HGnA8GxowdFhZWZuViPjo5f2cz1
            hEvjOkKcuPjak/AzDiqWiUG3EuSteLr3IsnDNCpPW7XiEKqLhy0BBjHiaI+cLvF8
            rAck88dL62PpMHIJaX1ZKHKXLxm0sPhvUEDgIBJtNR3+jNXUevU9vkvM2wSIF4HS
            XgGWDrUNrHXF0JlcQTjsekx7OX4LjuqPJ/10+ld7etmlodXk7VMJLXb4dt4s+Hkz
            u2Rir3OFAUN25tQEnclJWLQEcw1D32sw2VDz+gm8Wk4gbFPsmyBdedMMe8s3Avw=
            =tNyA
            -----END PGP MESSAGE-----
          fp: DC6910268E657FF70BA7EC289974494E76938DDC
    encrypted_regex: ^(password|value|ssh-key|api-key|user|username|privateKey|clientSecret|clientId|apiKey|extraArgs.*|.*Secret.*|extraEnvVars|.*SECRET.*|.*secret.*|key|.*Password|.*\.ya?ml)$
    version: 3.10.2
