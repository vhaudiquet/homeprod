image:
    tag: 1.24.3
ingress:
    enabled: true
    hosts:
        - host: git.vhaudiquet.fr
          paths:
            - path: /
              pathType: Prefix
# Disable HA, we are on a 1-node cluster
redis-cluster:
    enabled: false
redis:
    enabled: true
postgresql:
    enabled: true
    global:
        postgresql:
            auth:
                postgressPassword: ENC[AES256_GCM,data:Pg6Fb2P94hrPOg==,iv:W9+TwZmwpO+7HY/QaEeTSWHTjUHp6atTzAQanRaqrMo=,tag:l6WX5UuArzII9HDx00Xeqg==,type:str]
                password: ENC[AES256_GCM,data:sAwMOA5ZJ9+1yA==,iv:Tj3APXpcos0NnWVPyA7UF5v4PFXCcLMc6axixY0dSMU=,tag:hMq2tBjgFiQ9E1P8L/cQqA==,type:str]
                database: gitea
                username: ENC[AES256_GCM,data:LnwP35s=,iv:kYwKsKsqG3j6zwKn85Qw1zHbnuq9pKsULei1Zf8xDhE=,tag:QZYqKryO9k73aGaU9jhKvg==,type:str]
    volumePermissions:
        enabled: true
postgresql-ha:
    enabled: false
persistence:
    enabled: true
    subPath: data
extraVolumes:
    - name: git
      nfs:
        server: truenas.local
        path: /mnt/main_storage/git
extraContainerVolumeMounts:
    - name: git
      mountPath: /git
clusterDomain: kube-talos.local
gitea:
    oauth:
        - name: Authentik
          provider: openidConnect
          key: ENC[AES256_GCM,data:xawtVv9/90vuYW4s1iSSPW6+zAIS/vRUYy/96+F45uQhl6klhDd72w==,iv:TND3ygRySTgFH5/+fgAaCtWC/uSo/7G8LE5Cm7ykBYQ=,tag:mGiPMVkefMbDRnkax4KtPw==,type:str]
          secret: ENC[AES256_GCM,data:mjnoOrRyow9k451fpxWLFHOQivk3K9t2ml71LdCXtLn43n1zlt3SC6BA5Gon35llX5ri9zaIAuBzfbjhLdd/40gaUbDOY7YVtIIwx4DJeYgBpH49pvCFfB785Ves0cIe8VP4gBrxhyfSRIu0VXWtVVYydak9Qj5Xs7o+rzIoypE=,iv:9WENZKZMpjJvakSJqTo5WdEQrdt2ZJe15kKm8/QIlGg=,tag:zUmlzCF9yepVVU26Zb5p6Q==,type:str]
          autoDiscoverUrl: https://authentik.vhaudiquet.fr/application/o/gitea/.well-known/openid-configuration
    config:
        APP_NAME: Gitea
        server:
            ROOT_URL: https://git.vhaudiquet.fr
        lfs:
            STORAGE_TYPE: local
            PATH: /git/lfs
        repository:
            ROOT: /git/repo
        database:
            DB_TYPE: postgres
        service:
            ALLOW_ONLY_EXTERNAL_REGISTRATION: true
        actions:
            ENABLED: true
        oauth2_client:
            ENABLE_AUTO_REGISTRATION: true
            ACCOUNT_LINKING: login
        openid:
            ENABLE_OPENID_SIGNIN: false
            ENABLE_OPENID_SIGNUP: false
        indexer:
            ISSUE_INDEXER_TYPE: bleve
            REPO_INDEXER_ENABLED: true
sops:
    lastmodified: "2025-08-01T13:28:21Z"
    mac: ENC[AES256_GCM,data:pZmOp0UUzavviJpNKkAqDD0/rwktHuJW5qAWKQRQDTwzfgNRhKTb93uv5jMEEoI0YwUWSJIaASrIet7DR+KgAr7eD7xRain1rp+qBH/G6vMvmD5/8Q35H0MGK+GcLpJ4r8TULnKYpr/e/GTjDSkbiJhaFF7ZeBnsAZRPGcBdGwg=,iv:GXcduCy6rdaLcFNPYW4/bZVFPUW3JCMtA/vdqiDxeVU=,tag:FoI9JA9Me0vDEKeE3yALZQ==,type:str]
    pgp:
        - created_at: "2025-08-01T13:28:21Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA7uy4qQr71wiAQ/+K4DEoUdBd5qpNPtUdAf9GG7sEwg4E5acLfQnUDIF7V3w
            b0EBXA4lRI55fcxgyNa2GwSeW/InKpobwCcTl+qFft8RMIh7xa/9pvC7A2dD00O4
            asivZUZoo71qDKHssUw1O8WIQOfjxqN0HvrcyJgl8svMyU/w6iu8XG/xP8cr6y03
            bT7eR8XlSXXQBbjTJSaUTlQyv8jLUkM0tLKY926yUI1UAN6cUFBzNe9mUhI9gO0S
            bzeoDVH2aXBcYq/MPL20daaJ92fis0ucbf3lZpkaJZc8oMN5vmh7n0gq87DXOcqY
            EkwOg8okslMUc7C0r6aFH/q8RLOFu4F98f6Erhy3NT7DOiUjgpFSVcQHKsQTx6C4
            8dLd+abnJz0L1xshI07FJFgGX6pS/wme7o9GYNMU8I0S1COcHh7PlgZry4I9AzbL
            K4M5HRwfdu62T5zsSmRD9+cBXHSE/JBkWEcl+/rOGnilnWhfdQtCvvG77bDgskab
            0JPtbQNLc8vnImSs8DTSNFWbhC2Elgqqa4CJcSnfOgCmuF2auG6oz2X3xS0AfGdR
            cih2TjakxBcQlv2Hm73n7dkA1aZaYBpDk3wWXgQ7in2VRofsFeZ5JNNfOA3nPHJC
            d3CMkPFbiKQvLUtkR90yjbkj9gYOD6sDPE0RWiFUT7sOpiPN/3lYNqSQRPRcsyXS
            XgHaDTHRMuJahx8vR9h43Rw9n78WeC9AuNGH8nYkjxYUsV42sVie8VqXHe4IIbt9
            9CPF5nFm4c6DNaWHieQO6NTxWhpaqEkuMmlKKmnniGt4xS3XrdjTEfArUT/V+Pg=
            =Xy3U
            -----END PGP MESSAGE-----
          fp: DC6910268E657FF70BA7EC289974494E76938DDC
    encrypted_regex: ^(password|value|ssh-key|api-key|user|username|privateKey|clientSecret|clientId|apiKey|extraArgs.*|.*Secret.*|extraEnvVars|.*SECRET.*|.*secret.*|key|.*Password|.*\.ya?ml)$
    version: 3.10.2
